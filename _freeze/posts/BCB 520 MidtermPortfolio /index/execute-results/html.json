{
  "hash": "470d4170069fc61a806ede5e0a2ddf91",
  "result": {
    "markdown": "---\ntitle: \"BCB 520- Midterm Portfolio Post\"\nsubtitle: \"Assessment of airline safety thus far\"\nauthor: \"Ronald Bentil\"\ndate: \"2023-03-25\"\ncategories: [Data, Visualizations]\nimage: \"coa-aviation-safety-image.jpeg\"\ncode-fold: true\ncode-tools: true\ndescription: \"Ascertaining improvement in airline business to guarantee passenger safety and satisfaction\"\n---\n\n\n## OVERVIEW\n\nThis is a post that will be my Midterm assignment, testing my knowledge and skills acquired in/on Data visualization thus far. \n\n## PREAMBLE\nTravel is one thing people all over the world share in common usually for family, business or pleasure; be it local or international. Among the many modes of travel, the fastest and most convenient especially for longer distances is the airplane. However, in spite of the many contingencies put in place, the plane remains a machine which is prone to faults and unforeseen circumstances regardless of the efforts put in place.\n\nIn this assignment, I will analyze data incidents and number of fatal accidents for associated with each airline for about 30 years and attempt to make  certain conclusions.\n\nCriteria for choice of parameters used in assessment:\n\nThe data set had several airlines so airlines with on average one incident per year or more in the period 1985-1999 and 2000-2014 were selected for analysis. \n\n## DATA\nThe data set I will be using for my visualizations is an already existent data set package in R. \nSource:\n[Aviation Safety Network](https://r-data.pmagunia.com/dataset/airline-safety).\n\n\nA data dictionary has  been added to provide definitions for the various headers in the data set. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nairlinesafety=read.csv('Airline safety datset.csv', header = TRUE)\n\nlibrary(knitr)\nkable(airlinesafety)\n```\n\n::: {.cell-output-display}\n|airline                    | avail_seat_km_per_week| incidents_85_99| fatal_accidents_85_99| fatalities_85_99| incidents_00_14| fatal_accidents_00_14| fatalities_00_14|\n|:--------------------------|----------------------:|---------------:|---------------------:|----------------:|---------------:|---------------------:|----------------:|\n|Aer Lingus                 |              320906734|               2|                     0|                0|               0|                     0|                0|\n|Aeroflot*                  |             1197672318|              76|                    14|              128|               6|                     1|               88|\n|Aerolineas Argentinas      |              385803648|               6|                     0|                0|               1|                     0|                0|\n|Aeromexico*                |              596871813|               3|                     1|               64|               5|                     0|                0|\n|Air Canada                 |             1865253802|               2|                     0|                0|               2|                     0|                0|\n|Air France                 |             3004002661|              14|                     4|               79|               6|                     2|              337|\n|Air India*                 |              869253552|               2|                     1|              329|               4|                     1|              158|\n|Air New Zealand*           |              710174817|               3|                     0|                0|               5|                     1|                7|\n|Alaska Airlines*           |              965346773|               5|                     0|                0|               5|                     1|               88|\n|Alitalia                   |              698012498|               7|                     2|               50|               4|                     0|                0|\n|All Nippon Airways         |             1841234177|               3|                     1|                1|               7|                     0|                0|\n|American*                  |             5228357340|              21|                     5|              101|              17|                     3|              416|\n|Austrian Airlines          |              358239823|               1|                     0|                0|               1|                     0|                0|\n|Avianca                    |              396922563|               5|                     3|              323|               0|                     0|                0|\n|British Airways*           |             3179760952|               4|                     0|                0|               6|                     0|                0|\n|Cathay Pacific*            |             2582459303|               0|                     0|                0|               2|                     0|                0|\n|China Airlines             |              813216487|              12|                     6|              535|               2|                     1|              225|\n|Condor                     |              417982610|               2|                     1|               16|               0|                     0|                0|\n|COPA                       |              550491507|               3|                     1|               47|               0|                     0|                0|\n|Delta / Northwest*         |             6525658894|              24|                    12|              407|              24|                     2|               51|\n|Egyptair                   |              557699891|               8|                     3|              282|               4|                     1|               14|\n|El Al                      |              335448023|               1|                     1|                4|               1|                     0|                0|\n|Ethiopian Airlines         |              488560643|              25|                     5|              167|               5|                     2|               92|\n|Finnair                    |              506464950|               1|                     0|                0|               0|                     0|                0|\n|Garuda Indonesia           |              613356665|              10|                     3|              260|               4|                     2|               22|\n|Gulf Air                   |              301379762|               1|                     0|                0|               3|                     1|              143|\n|Hawaiian Airlines          |              493877795|               0|                     0|                0|               1|                     0|                0|\n|Iberia                     |             1173203126|               4|                     1|              148|               5|                     0|                0|\n|Japan Airlines             |             1574217531|               3|                     1|              520|               0|                     0|                0|\n|Kenya Airways              |              277414794|               2|                     0|                0|               2|                     2|              283|\n|KLM*                       |             1874561773|               7|                     1|                3|               1|                     0|                0|\n|Korean Air                 |             1734522605|              12|                     5|              425|               1|                     0|                0|\n|LAN Airlines               |             1001965891|               3|                     2|               21|               0|                     0|                0|\n|Lufthansa*                 |             3426529504|               6|                     1|                2|               3|                     0|                0|\n|Malaysia Airlines          |             1039171244|               3|                     1|               34|               3|                     2|              537|\n|Pakistan International     |              348563137|               8|                     3|              234|              10|                     2|               46|\n|Philippine Airlines        |              413007158|               7|                     4|               74|               2|                     1|                1|\n|Qantas*                    |             1917428984|               1|                     0|                0|               5|                     0|                0|\n|Royal Air Maroc            |              295705339|               5|                     3|               51|               3|                     0|                0|\n|SAS*                       |              682971852|               5|                     0|                0|               6|                     1|              110|\n|Saudi Arabian              |              859673901|               7|                     2|              313|              11|                     0|                0|\n|Singapore Airlines         |             2376857805|               2|                     2|                6|               2|                     1|               83|\n|South African              |              651502442|               2|                     1|              159|               1|                     0|                0|\n|Southwest Airlines         |             3276525770|               1|                     0|                0|               8|                     0|                0|\n|Sri Lankan / AirLanka      |              325582976|               2|                     1|               14|               4|                     0|                0|\n|SWISS*                     |              792601299|               2|                     1|              229|               3|                     0|                0|\n|TACA                       |              259373346|               3|                     1|                3|               1|                     1|                3|\n|TAM                        |             1509195646|               8|                     3|               98|               7|                     2|              188|\n|TAP - Air Portugal         |              619130754|               0|                     0|                0|               0|                     0|                0|\n|Thai Airways               |             1702802250|               8|                     4|              308|               2|                     1|                1|\n|Turkish Airlines           |             1946098294|               8|                     3|               64|               8|                     2|               84|\n|United / Continental*      |             7139291291|              19|                     8|              319|              14|                     2|              109|\n|US Airways / America West* |             2455687887|              16|                     7|              224|              11|                     2|               23|\n|Vietnam Airlines           |              625084918|               7|                     3|              171|               1|                     0|                0|\n|Virgin Atlantic            |             1005248585|               1|                     0|                0|               0|                     0|                0|\n|Xiamen Airlines            |              430462962|               9|                     1|               82|               2|                     0|                0|\n:::\n:::\n\n\nBelow is the data dictionary that defines attributes in the data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.1.8\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the \u001b]8;;http://conflicted.r-lib.org/\u0007conflicted package\u001b]8;;\u0007 to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(readxl)\nlibrary(dplyr)\n\nairlinesafety_attributes <- read_xlsx(\"airlinesafetydatadictionary.xlsx\")\nknitr::kable(airlinesafety_attributes)\n```\n\n::: {.cell-output-display}\n|Header                 |Definition                                 |\n|:----------------------|:------------------------------------------|\n|airline                |Airline                                    |\n|avail_seat_km_per_week |Available seat kilometers flown every week |\n|incidents_85_99        |Total number of incidents, 1985–1999       |\n|fatal_accidents_85_99  |Total number of fatal accidents, 1985–1999 |\n|fatalities_85_99       |Total number of fatalities, 1985–1999      |\n|incidents_00_14        |Total number of incidents, 2000–2014       |\n|fatal_accidents_00_14  |Total number of fatal accidents, 2000–2014 |\n|fatalities_00_14       |Total number of fatalities, 2000–2014      |\n:::\n:::\n\n## VISUALIZATIONS\n\nFurther, I went on to generate averages and standard deviations of the number of fatal accidents for the same periods (1985-1999 and 2000-2014)\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(knitr)\n\nSumFatal_accidents = apply(airlinesafety[c(\"fatal_accidents_00_14\", \"fatal_accidents_85_99\")], MARGIN = 2, FUN = function(x) {\n  c(Average = mean(x), SD = sd(x), quantile(x, probs = c(.25, .5, .75, 1)), 100*mean(x > 1))\n})\nrownames(SumFatal_accidents) = c(\"Average\", \"Standard deviation\", \"Q1 (<25%)\", \"Median\", \"Q3 (<75%)\", \"Max\",\n                                 \"% of airlines with more than fatal accident in 15 years\")\n\nkable(SumFatal_accidents, align = \"c\", caption = \"Summary of Fatal Accidents\")\n```\n\n::: {.cell-output-display}\nTable: Summary of Fatal Accidents\n\n|                                                        | fatal_accidents_00_14 | fatal_accidents_85_99 |\n|:-------------------------------------------------------|:---------------------:|:---------------------:|\n|Average                                                 |       0.6607143       |       2.178571        |\n|Standard deviation                                      |       0.8586837       |       2.861069        |\n|Q1 (<25%)                                               |       0.0000000       |       0.000000        |\n|Median                                                  |       0.0000000       |       1.000000        |\n|Q3 (<75%)                                               |       1.0000000       |       3.000000        |\n|Max                                                     |       3.0000000       |       14.000000       |\n|% of airlines with more than fatal accident in 15 years |      21.4285714       |       41.071429       |\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(reshape2)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'reshape2'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:tidyr':\n\n    smiths\n```\n:::\n\n```{.r .cell-code}\nairlinesafety <- read.csv(\"Airline safety datset.csv\")\n\n\nairlines_fatal <- airlinesafety %>%\n  filter(fatal_accidents_85_99 + fatal_accidents_00_14 > 1)\n\n\nfatal_data <- data.frame(Airline = airlines_fatal$airline,\n                         Fatal_85_99 = airlines_fatal$fatal_accidents_85_99,\n                         Fatal_00_14 = airlines_fatal$fatal_accidents_00_14)\n\n\nfatal_data_melt <- melt(fatal_data, id.vars = \"Airline\")\n\n\nggplot(fatal_data_melt, aes(x = Airline, y = value, fill = variable)) +\n  geom_bar(stat = \"identity\", position = \"stack\") +\n  labs(title = \"Airlines with more than one Fatal Accidents\",\n       x = \"Airline\",\n       y = \"Number of Fatal Accidents\") +\n  scale_fill_manual(name = \"Time Period\",\n                    values = c(\"#F8766D\", \"#00BA38\"),\n                    labels = c(\"1985-1999\", \"2000-2014\")) +\n  theme(axis.text.x = element_text(angle = 70, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\n\ndepartures <- airlinesafety %>%\n  group_by(airline) %>%\n  summarise(total_departures = sum(avail_seat_km_per_week))\n\n\nfatal_data <- airlinesafety %>%\n  filter(fatal_accidents_85_99 + fatal_accidents_00_14 > 1) %>%\n  mutate(total_fatalities = fatal_accidents_85_99 + fatal_accidents_00_14) %>%\n  select(airline, total_fatalities) %>%\n  inner_join(departures, by = \"airline\")\n\nggplot(fatal_data, aes(x = total_departures, y = total_fatalities)) +\n  geom_point() +\n  labs(title = \"Fatal Accidents vs. Departures\",\n       x = \"Total Departures\",\n       y = \"Total Fatal Accidents\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncorrelation <- cor.test(fatal_data$total_departures, fatal_data$total_fatalities)\n\n\ncat(\"Correlation Coefficient:\", correlation$estimate, \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCorrelation Coefficient: 0.6242244 \n```\n:::\n\n```{.r .cell-code}\ncat(\"p-value:\", correlation$p.value, \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\np-value: 0.0005017678 \n```\n:::\n\n```{.r .cell-code}\nlibrary(dplyr)\n\n\ncorrelation <- cor.test(fatal_data$total_departures, fatal_data$total_fatalities)\n\n\nresults_df <- data.frame(\n  \"Variable 1\" = \"Total Departures\",\n  \"Variable 2\" = \"Total Fatalities\",\n  \"Correlation Coefficient\" = correlation$estimate,\n  \"p-value\" = correlation$p.value\n)\n\n\nresults_df %>%\n  kable()\n```\n\n::: {.cell-output-display}\n|    |Variable.1       |Variable.2       | Correlation.Coefficient|   p.value|\n|:---|:----------------|:----------------|-----------------------:|---------:|\n|cor |Total Departures |Total Fatalities |               0.6242244| 0.0005018|\n:::\n:::\n\n\n## CONCLUSIONS\nI cant exactly infer from the descriptive statistics which airline is the safest for travel. However, from the visualizations, it is clear that there has been and continues to be significant reduction in the number of incidences and fatal accidents. A great indication that there is robust improvement in the services and technology over the years and airlines are doing their utmost best to allay passenger fears, and get them to their destinations safely. The choice though, would totally be a matter of preference! \n\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}